<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DreamVfa ‚Ä¢ R√®glement GTA RP</title>

<style>
:root{
--violet:#6d5dfc;--rose:#d946ef;
--bg:#0e0b1f;--card:#181433;
--text:#f1f0ff;--muted:#b9b6ff;
}
*{box-sizing:border-box;scroll-behavior:smooth}
body{margin:0;font-family:'Segoe UI',Arial,sans-serif;background:linear-gradient(180deg,#0e0b1f,#120f2b);color:var(--text);}

/* BANNI√àRE */
header{max-width:1200px;margin:20px auto;border-radius:30px;overflow:hidden;position:relative;box-shadow:0 25px 80px rgba(109,93,252,.35)}
header img{width:100%;display:block;object-fit:cover}
header::after{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(109,93,252,.45),rgba(217,70,239,.45))}

/* MAIN */
main{max-width:1200px;margin:auto;padding:40px 20px;text-align:center}

/* ACTIONS */
.actions{display:flex;gap:15px;justify-content:center;flex-wrap:wrap;margin-bottom:25px}
.btn{padding:12px 25px;border-radius:18px;background:linear-gradient(135deg,var(--violet),var(--rose));cursor:pointer;font-weight:700;transition:.3s;color:#fff;text-decoration:none}
.btn:hover{transform:scale(1.05)}
.discord-inline img{width:48px;cursor:pointer;transition:.3s;filter:drop-shadow(0 0 15px #5865F2)}
.discord-inline img:hover{transform:scale(1.15)}

/* REGLEMENT */
#reglement{margin-top:20px;text-align:left}
section{background:linear-gradient(145deg,var(--card),#14112c);border-radius:22px;padding:25px;margin-bottom:35px;box-shadow:0 15px 50px rgba(0,0,0,.35)}
h2{border-left:5px solid var(--violet);padding-left:15px}
input{width:100%;padding:12px;border-radius:14px;background:#000;color:#fff;border:1px solid #333;margin-bottom:20px}
input::placeholder{color:#aaa}
li{margin-bottom:12px;cursor:pointer;transition:.25s}
li:hover{transform:translateX(6px);color:white}

/* MODAL */
.modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.85);backdrop-filter:blur(6px);justify-content:center;align-items:center;z-index:999}
.modal-content{background:linear-gradient(145deg,#1b1740,#120f2b);padding:30px;border-radius:22px;max-width:700px;width:90%}
.close{margin-top:20px;padding:10px 22px;background:var(--violet);border-radius:12px;cursor:pointer;display:inline-block}

/* FOOTER */
footer{text-align:center;padding:25px;background:#0a0818;color:var(--muted);font-size:0.9rem}

/* BOUTON TOP */
#topBtn{position:fixed;bottom:25px;right:25px;padding:12px 18px;background:var(--violet);border:none;border-radius:12px;color:#fff;font-weight:700;cursor:pointer;display:none;z-index:999;box-shadow:0 5px 15px rgba(0,0,0,.5)}
#topBtn:hover{background:var(--rose);transform:scale(1.1)}

/* RESPONSIVE */
@media(max-width:768px){header{margin:15px auto}.actions{flex-direction:column}.btn{width:80%}}
</style>
</head>

<body>

<header>
<img src="logo/banner.png" alt="DreamVfa Banner">
</header>

<main>

<h1>DreamVfa Roleplay</h1>
<p style="color:var(--muted)">R√®glement officiel du serveur GTA RP</p>

<div class="actions">
<div class="btn" onclick="showPage('civil')">R√®glement Civil</div>
<div class="btn" onclick="showPage('staff')">R√®glement Staff</div>
<div class="btn" onclick="showPage('support')">Comment nous soutenir</div>
<a class="discord-inline" href="https://discord.gg/uYGfuhcPgh" target="_blank">
<img src="logo/discord.png" alt="Discord">
</a>
</div>

<p id="counter" style="margin-top:15px;color:#aaa"></p>
<p id="globalCounter" style="margin-top:5px;color:#aaa"></p>

<div id="reglement">
<input placeholder="üîç Rechercher une r√®gle..." onkeyup="filterRules(this.value)">

<!-- CIVIL -->
<section id="civil" class="page">
<h2>R√®glement Civil</h2>
<ul>
<li onclick="openModal('freekill')">FreeKill</li>
<li onclick="openModal('metagaming')">Metagaming</li>
<li onclick="openModal('powergaming')">Powergaming</li>
<li onclick="openModal('fearrp')">Fear RP</li>
<li onclick="openModal('nopain')">NoPain RP</li>
<li onclick="openModal('carkill')">CarKill</li>
<li onclick="openModal('combatlog')">Combat Log</li>
<li onclick="openModal('winrp')">Win RP</li>
<li onclick="openModal('massrp')">Mass RP</li>
<li onclick="openModal('revenge')">Revenge Kill</li>
<li onclick="openModal('copbait')">Cop Bait</li>
</ul>
</section>

<!-- STAFF -->
<section id="staff" class="page" style="display:none">
<h2>R√®glement Staff</h2>
<ul>
<li onclick="openModal('neutralite')">Neutralit√©</li>
<li onclick="openModal('abuspouvoir')">Abus de pouvoir</li>
<li onclick="openModal('confidentialite')">Confidentialit√©</li>
<li onclick="openModal('exemplarite')">Exemplarit√©</li>
<li onclick="openModal('sanctions')">Gestion des sanctions</li>
<li onclick="openModal('preuves')">Preuves obligatoires</li>
<li onclick="openModal('respectjoueurs')">Respect des joueurs</li>
<li onclick="openModal('presence')">Pr√©sence & activit√©</li>
<li onclick="openModal('formation')">Formation et suivi</li>
<li onclick="openModal('communication')">Communication interne</li>
</ul>
</section>

<!-- SUPPORT -->
<section id="support" class="page" style="display:none">
<h2>Comment nous soutenir</h2>
<ul>
<li>üíú Booster le serveur Discord</li>
<li>‚≠ê √ätre actif et s√©rieux en RP</li>
<li>üì¢ Inviter des joueurs respectueux</li>
<li>üîó Mettre <b>.gg/dreamvfa</b> dans son statut Discord</li>
</ul>
</section>

</div>
</main>

<!-- BOUTON TOP -->
<button id="topBtn" onclick="scrollToTop()">üîù Haut de page</button>

<!-- MODAL -->
<div class="modal" id="modal">
<div class="modal-content">
<h3 id="modalTitle"></h3>
<p id="modalText"></p>
<div class="close" onclick="closeModal()">Fermer</div>
</div>
</div>

<footer>¬© 2026 DreamVfa ‚Ä¢ Tous droits r√©serv√©s</footer>

<script>
/* ===== BOUTON TOP ===== */
window.onscroll=function(){document.getElementById("topBtn").style.display=(document.documentElement.scrollTop>200)?"block":"none"};
function scrollToTop(){window.scrollTo({top:0,behavior:'smooth'});}

/* ===== COMPTEUR LOCAL ===== */
let visits=localStorage.getItem("visits")||0;visits++;localStorage.setItem("visits",visits);
counter.innerText="Visites sur cet appareil : "+visits;

/* ===== WEBHOOK SECURISE + COMPTEUR GLOBAL GOOGLE SHEETS ===== */
const lastWebhook=localStorage.getItem("lastWebhook");
if(!lastWebhook || Date.now()-lastWebhook>1800000){
fetch("https://discord.com/api/webhooks/1430604182527803486/r3flSkOlnUvDYViOHtkZelKVKBm_DlXAebyfxzQ0dwsoMjvGzet54gzrM-5KfXtgCpsJ",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({
embeds:[{
title:"üåê Nouvelle visite sur DreamVfa",
color:7506394,
fields:[
{name:"üïí Date",value:new Date().toLocaleString(),inline:true},
{name:"üíª Navigateur",value:navigator.userAgent,inline:false},
{name:"üåç Langue",value:navigator.language,inline:true},
{name:"üìä Total Visites Local",value:visits.toString(),inline:true}
],
footer:{text:"DreamVfa Website"}
}]
})
});
localStorage.setItem("lastWebhook",Date.now());
}

/* ===== REGLES ===== */
const rules={
freekill:{title:"FreeKill",text:"Tuer un joueur sans raison RP valide."},
metagaming:{title:"Metagaming",text:"Utiliser des infos HRP (Discord, stream, amis)."},
powergaming:{title:"Powergaming",text:"Forcer une action irr√©aliste."},
fearrp:{title:"Fear RP",text:"Le personnage doit craindre pour sa vie."},
nopain:{title:"NoPain RP",text:"Ignorer la douleur apr√®s blessure."},
carkill:{title:"CarKill",text:"Utiliser un v√©hicule comme arme."},
combatlog:{title:"Combat Log",text:"Quitter le jeu pour √©viter sc√®ne RP."},
winrp:{title:"Win RP",text:"Chercher √† gagner √† tout prix sans logique RP."},
massrp:{title:"Mass RP",text:"Action impliquant beaucoup de joueurs sans coh√©rence."},
revenge:{title:"Revenge Kill",text:"Se venger apr√®s un coma ou mort RP."},
copbait:{title:"Cop Bait",text:"Provoquer la police sans raison RP."},
neutralite:{title:"Neutralit√©",text:"Le staff doit rester impartial."},
abuspouvoir:{title:"Abus de pouvoir",text:"Usage abusif des permissions."},
confidentialite:{title:"Confidentialit√©",text:"Les infos staff restent priv√©es."},
exemplarite:{title:"Exemplarit√©",text:"Le staff montre l'exemple."},
sanctions:{title:"Sanctions",text:"Progressives et justifi√©es."},
preuves:{title:"Preuves obligatoires",text:"Chaque sanction doit √™tre document√©e."},
respectjoueurs:{title:"Respect",text:"Respect total des joueurs."},
presence:{title:"Pr√©sence",text:"Le staff doit √™tre actif et disponible."},
formation:{title:"Formation",text:"Le staff doit √™tre form√© et suivi r√©guli√®rement."},
communication:{title:"Communication",text:"Communication interne claire et r√©guli√®re."}
};

/* ===== FONCTIONS ===== */
function openModal(r){modal.style.display="flex";modalTitle.innerText=rules[r].title;modalText.innerText=rules[r].text;}
function closeModal(){modal.style.display="none";}
function showPage(p){document.querySelectorAll(".page").forEach(e=>e.style.display="none");document.getElementById(p).style.display="block";document.getElementById("reglement").scrollIntoView({behavior:"smooth"});}
function filterRules(v){document.querySelectorAll("li").forEach(li=>{li.style.display=li.innerText.toLowerCase().includes(v.toLowerCase())?"":"none";});}

/* ===== COMPTEUR GLOBAL VIA GOOGLE SHEETS ===== */
async function fetchGlobalVisits(){
try{
let res=await fetch('https://script.google.com/macros/s/YOUR_GOOGLE_SHEET_WEB_APP_URL/exec');
let data=await res.json();
globalCounter.innerText="Visites globales : "+data.total;
}catch(e){globalCounter.innerText="Visites globales : N/A";}
}
fetchGlobalVisits();
</script>

</body>
</html>
